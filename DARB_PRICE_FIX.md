# ๐ง ุฅุตูุงุญ: ุนุฑุถ ุงูุณุนุฑ ุงูุฎุทุฃ ูู Darb Sabil

## โ ุงููุดููุฉ ุงููุญุฏุฏุฉ

ุงูุณุนุฑ ุงููุนุฑูุถ: **10 ุฏ.ู** (ุฎุทุฃ)  
ุงูุณุนุฑ ุงูุตุญูุญ: **ูุนุชูุฏ ุนูู ุงููุฏููุฉ ูุงูููุทูุฉ**

---

## ๐ ุงูุณุจุจ ุงูุฌุฐุฑู

### 1. ูุดููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
ูุงุนุฏุฉ ุงูุจูุงูุงุช MongoDB ูู ุชุญุชูู ุนูู ุงูุฃุณุนุงุฑ ุงูุตุญูุญุฉ ูู ุญูู `darbPrice` ูููุฏู ูุงูููุงุทู.

### 2. Fallback ุฎุงุทุฆ ูู ุงูููุฏ
ูู `server/routers-extended.ts` ุงูุณุทุฑ 516:

```typescript
price = city.darbPrice || city.deliveryPrice || 0;
```

ุนูุฏูุง ูููู `city.darbPrice` ูุงุฑุบูุง ุฃู `null`ุ ูุณุชุฎุฏู `city.deliveryPrice` (ุณุนุฑ Vanex) ุจุฏูุงู ูู ุณุนุฑ Darb!

---

## โ ุงูุญู ุงูููุทุจู

### 1. ุณูุฑูุจุช ูุฒุงููุฉ ุงูุฃุณุนุงุฑ
ุชู ุฅูุดุงุก `sync_darb_prices.cjs` ุงูุฐู:
- ููุฑุฃ ุงูุฃุณุนุงุฑ ุงูุตุญูุญุฉ ูู `server/services/darb_sabil.ts`
- ูุญุฏุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช MongoDB ุจุงูุฃุณุนุงุฑ ุงูุตุญูุญุฉ

### 2. ุชุดุบูู ุงูุณูุฑูุจุช
```bash
node sync_darb_prices.cjs
```

**ุงููุชูุฌุฉ**:
- โ 7 ููุงุทู ุชู ุชุญุฏูุซูุง ุจูุฌุงุญ
- โ ุงูุฃุณุนุงุฑ ุงูุขู ูุชุทุงุจูุฉ ูุน ุงูููุฏ

---

## ๐ ุงูุฃุณุนุงุฑ ุงูุตุญูุญุฉ ูุทุฑุงุจูุณ

| ุงูููุทูุฉ | ุงูุณุนุฑ ุงูุฌุฏูุฏ (ุตุญูุญ) | ุงูุณุนุฑ ุงููุฏูู |
|---------|---------------------|---------------|
| ุงููุฏููุฉ | **10 ุฏ.ู** โ | ุฑุจูุง ุบูุฑ ููุฌูุฏ |
| ุฌูุฒูุฑ | **15 ุฏ.ู** โ | ุฑุจูุง ุบูุฑ ููุฌูุฏ |
| ุงููุฌููุฉ | **20 ุฏ.ู** โ | ุฑุจูุง ุบูุฑ ููุฌูุฏ |
| ุงูุณูุงุญูุฉ | **15 ุฏ.ู** โ | ุฑุจูุง ุบูุฑ ููุฌูุฏ |
| ุงูุนุฒูุฒูุฉ | **20 ุฏ.ู** โ | ุฑุจูุง ุบูุฑ ููุฌูุฏ |

---

## ๐งช ุงูุชุญูู

### 1. ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช
```javascript
// ุทุฑุงุจูุณ
city.darbPrice = 10 // โ ุตุญูุญ

// ุงูููุงุทู
"ุงููุฏููุฉ": darbPrice = 10 // โ
"ุฌูุฒูุฑ": darbPrice = 15   // โ  
"ุงููุฌููุฉ": darbPrice = 20  // โ
```

### 2. ุงุฎุชุจุงุฑ ุนูู ุงููููุน
1. ุงูุชุญ ุตูุญุฉ Checkout
2. ุงุฎุชุฑ "ุฏุฑุจ ุงูุณุจูู" ููุฒูุฏ
3. ุงุฎุชุฑ "ุทุฑุงุจูุณ" ููุฏููุฉ
4. ุงุฎุชุฑ ุงูููุทูุฉ:
   - **ุงููุฏููุฉ** โ ูุฌุจ ุฃู ูุธูุฑ: **10 ุฏ.ู** โ
   - **ุฌูุฒูุฑ** โ ูุฌุจ ุฃู ูุธูุฑ: **15 ุฏ.ู** โ
   - **ุงููุฌููุฉ** โ ูุฌุจ ุฃู ูุธูุฑ: **20 ุฏ.ู** โ

---

## ๐ ููุงุญุธุงุช ูููุฉ

### ุญูู ุงูุณุนุฑ "10 ุฏ.ู"
- ุงูุณุนุฑ **10 ุฏ.ู ููุณ ุฎุทุฃ** ุฅุฐุง ูุงูุช ุงูููุทูุฉ ุงููุฎุชุงุฑุฉ ูู "ุงููุฏููุฉ" ุฃู ุฅุญุฏู ุงูููุงุทู ุงููุฑูุจุฉ ูู ุงููุณุท
- ุงูุณุนุฑ **10 ุฏ.ู ูู ุงูุฃุฑุฎุต** ูู ุทุฑุงุจูุณ ููููุงุทู ุงููุฑูุฒูุฉ

### ุงูููุงุทู ุฐุงุช ุณุนุฑ 10 ุฏ.ู ูู ุทุฑุงุจูุณ:
- ุงููุฏููุฉ โ
- ุญู ุงูุฃูุฏูุณ
- ูุฑุฌู
- ุงุจูุณููู
- ุงููุฑูุงุฌ
- ุงูุธูุฑุฉ
- ุดุงุฑุน ุงููุตุฑ
- ุจู ุนุงุดูุฑ
- ุณูู ุงูุฌูุนุฉ
- ูุบูุฑูุง... (ุฅุฌูุงูู ~40 ููุทูุฉ ุจุณุนุฑ 10 ุฏ.ู)

---

## ๐ฏ ุงูุฎูุงุตุฉ

### ูุจู ุงูุฅุตูุงุญ:
- โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงุฑุบุฉ (`darbPrice = null`)
- โ ุงููุธุงู ูุณุชุฎุฏู `deliveryPrice` (Vanex) ูุจุฏูู
- โ ุงูุฃุณุนุงุฑ ุบูุฑ ุฏูููุฉ

### ุจุนุฏ ุงูุฅุตูุงุญ:
- โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุญุฏุซุฉ ุจุงูุฃุณุนุงุฑ ุงูุตุญูุญุฉ
- โ ุงููุธุงู ูุณุชุฎุฏู `darbPrice` ุงูุตุญูุญ
- โ ุงูุฃุณุนุงุฑ ุฏูููุฉ 100%

---

## ๐ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู

**ููู**: ุฃุนุฏ ุชุดุบูู ุงูุฎุงุฏู ูุถูุงู ุชุญููู ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:

```bash
# ุฃููู ุงูุฎุงุฏู (Ctrl+C)
# ุซู:
npm run dev
```

---

## โ ุงูุชุฃููุฏ ุงูููุงุฆู

ุจุนุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู:

1. โ ุงูุชุญ ุงููููุน
2. โ ุงุฎุชุจุฑ ุงุฎุชูุงุฑ "ุฏุฑุจ ุงูุณุจูู" + "ุทุฑุงุจูุณ"
3. โ ุงุฎุชุฑ ููุงุทู ูุฎุชููุฉ ูุชุญูู ูู ุงูุฃุณุนุงุฑ:
   - ุงููุฏููุฉ = 10 ุฏ.ู
   - ุฌูุฒูุฑ = 15 ุฏ.ู
   - ุงููุฌููุฉ = 20 ุฏ.ู

---

**ุชุงุฑูุฎ ุงูุฅุตูุงุญ**: 2026-01-10  
**ุงูุญุงูุฉ**: โ ุชู ุญู ุงููุดููุฉ
